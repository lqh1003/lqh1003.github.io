---
title: 接入Google地图
date: 2025-07-30 11:25:50
tags: Google Maps
cover: /images/接入Google地图/cover.jpg # 封面图
---

### 准备工作

- Google API 秘钥

- 地址信息：经纬度、地点名称等

### [获取 Google API 密钥](https://developers.google.com/maps/documentation/javascript/add-google-map-wc-tut?hl=zh-cn#key)

- 前往 [Google Cloud 控制台](https://console.cloud.google.com/projectselector2/google/maps-apis/overview)。

- 创建或选择一个项目。

- 点击继续，启用 API 和任何相关服务。

- 在凭据页面上，获取 API 密钥（并设置 API 密钥限制）。注意：如果您已有不受限的 API 密钥或存在浏览器限制的密钥，可以使用相应密钥。

- 如需防止配额盗用并保护 API 密钥，请参阅[使用 API 密钥](https://cloud.google.com/docs/authentication/api-keys?hl=zh-cn)。

- 启用结算功能。如需了解详情，请参阅[用量和结算](https://developers.google.com/maps/documentation/javascript/usage-and-billing?hl=zh-cn&utm_source=devtools&utm_campaign=stable)。

- 现在，您可以使用 API 密钥了。

### 接入 Google 地图

- [获取经纬度](https://www.google.com.hk/maps)

  - 在地图上搜索地名，导航栏上会出现地名所在的经纬度
    ![](/images/接入Google地图/latlng.png)

- vue 项目接入 Google 地图

  - 下载依赖：

  ```bash
    npm install @googlemaps/js-api-loader
  ```

  - 新建 GoogleMaps.vue 文件

  ```html
  <template>
  	<div id="myMap" class="bg-#ccc w-full h-full"></div>
  </template>

  <script setup>
  	import { onMounted, ref } from 'vue'
  	import { Loader } from '@googlemaps/js-api-loader'

  	onMounted(async () => {
  		const loader = new Loader({
  			apiKey: 'AIzaSyDGp6YYslhnooIC1iEoVC0_QBmlJIxS2OQ', // Google Maps API 密钥
  			version: 'weekly',
  			libraries: [],
  		})

  		try {
  			await loader.load()
  			const title = '清华大学'
  			// 位置坐标
  			const myLatLng = { lat: 39.9389436, lng: 116.0678214 }
  			// 1、创建地图
  			const theMap = await new google.maps.Map(
  				document.getElementById('myMap'),
  				{
  					zoom: 10, // 缩放级别，0全球视野—21建筑物级别
  					center: myLatLng, // 地图中心点的经纬度
  					mapId: 'XXXX_MAP_ID',
  					maptype: 'satellite', // 地图类型: roadmap 标准道路地图、satellite 卫星图、terrain 地形图、hybrid混合图(卫星图像+道路标签)
  				}
  			)
  			// 2、添加地点标记
  			const marker = await new google.maps.Marker({
  				map: theMap,
  				position: myLatLng,
  				title: title, // icon: "path/to/custom-icon.png", // 可选自定义图标
  			})
  			// 3、添加信息窗口
  			const infoBox = await new google.maps.InfoWindow({
  				content: `
                      <h3 style="line-height: 1;margin: 0 0 10px;padding: 0;">清华大学</h3>
                      <p>北京市海淀区清华园</p>
                      <p>中华人民共和国教育部直属的全国重点大学，中央直管高校</p>
                      <p>"自强不息、厚德载物"</p>
                  `,
  				maxWidth: 400,
  			})
  			marker.addListener('click', () => {
  				infoBox.open(theMap, marker)
  			})
  		} catch (error) {
  			console.error('加载Google地图 API 时出错:', error)
  		}
  	})
  </script>
  ```

  - 使用：

  ```html
  <div class="w-full h-50vh max-h-500px">
  	<GoogleMaps />
  </div>
  ```

  - 效果图：

    ![](/images/接入Google地图/maps.png)

  - 【Tips】如上效果图有水印，其实 Google 地图已经使用成功了，只是 Google API 秘钥未正确使用(需要结算付款的...)
